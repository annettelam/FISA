---
import ChangeLogRow from './ChangeLogRow.astro';

interface Log {
  school_num: string;
  field_changed: string;
  old_value: string;
  new_value: string;
  updated_by: string;
  timestamp: string;
}

interface Props {
  logs: Log[];
}

const { logs } = Astro.props;
---

<div class="overflow-x-auto">
  <table class="table-auto w-full text-left text-sm text-gray-500 dark:text-gray-300">
    <thead class="bg-gray-50 dark:bg-gray-700">
      <tr>
        <th class="px-4 py-2 font-medium text-gray-900 dark:text-gray-100">School Number</th>
        <th class="px-4 py-2 font-medium text-gray-900 dark:text-gray-100">Field Changed</th>
        <th class="px-4 py-2 font-medium text-gray-900 dark:text-gray-100">Old Value</th>
        <th class="px-4 py-2 font-medium text-gray-900 dark:text-gray-100">New Value</th>
        <th class="px-4 py-2 font-medium text-gray-900 dark:text-gray-100">Updated By</th>
        <th class="px-4 py-2 font-medium text-gray-900 dark:text-gray-100">Timestamp</th>
      </tr>
    </thead>
    <tbody>
      {logs.length === 0 ? (
        <tr>
          <td colspan="6" class="text-center py-4 text-gray-900 dark:text-gray-100">No changes logged yet.</td>
        </tr>
      ) : (
        logs.map(log => (
          <tr class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-300">
            <ChangeLogRow log={log} />
          </tr>
        ))
      )}
    </tbody>
  </table>
</div>
