---

import ChangeLogRow from './ChangeLogRow.astro';
interface Log {
  school_num: string;
  field_changed: string;
  old_value: string;
  new_value: string;
  updated_by: string;
  timestamp: string;
}

interface Props {
  logs: Log[];
}

const { logs } = Astro.props;
---

<div class="overflow-x-auto">
  <table class="table-auto w-full text-left text-sm text-gray-500">
    <thead class="bg-gray-50">
      <tr>
        <th class="px-4 py-2 font-medium text-gray-900">School Number</th>
        <th class="px-4 py-2 font-medium text-gray-900">Field Changed</th>
        <th class="px-4 py-2 font-medium text-gray-900">Old Value</th>
        <th class="px-4 py-2 font-medium text-gray-900">New Value</th>
        <th class="px-4 py-2 font-medium text-gray-900">Updated By</th>
        <th class="px-4 py-2 font-medium text-gray-900">Timestamp</th>
      </tr>
    </thead>
    <tbody>
      {logs.length === 0 ? (
        <tr>
          <td colspan="6" class="text-center py-4">No changes logged yet.</td>
        </tr>
      ) : (
        logs.map(log => (
          <tr class="bg-white border-b">
            <ChangeLogRow log={log} />
          </tr>
        ))
      )}
    </tbody>
  </table>
</div>
