<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>FISA Membership Fees Invoice</title>
        <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet"
        />
        <link
            href="https://unpkg.com/flowbite@1.4.7/dist/flowbite.min.css"
            rel="stylesheet"
        />
    </head>
    <body class="bg-gray-100">
        <div class="max-w-3xl mx-auto mt-10 p-8 bg-white shadow-md rounded-lg">
            <!-- Header Section with FISA Information -->
            <div class="flex justify-between items-center mb-6">
                <img
                    src="/fisa_logo_small.png"
                    alt="FISA Logo"
                    class="w-32 h-auto"
                />
                <div class="text-center">
                    <h1 class="text-2xl font-bold text-gray-800">
                        FISA MEMBERSHIP FEES INVOICE (2024-2025)
                    </h1>
                    <p class="text-sm text-gray-600">
                        For the School Year 2024-2025<br />
                        Complete the form and submit before October 30, 2024.
                    </p>
                </div>
            </div>

            <!-- FISA Membership Fee Form -->
            <form id="fees-form" class="space-y-6">
                <!-- School Information Section -->
                <h2 class="text-xl font-bold text-gray-800 mb-4">
                    School Information
                </h2>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label
                            for="schoolName"
                            class="block text-sm font-medium text-gray-900"
                        >
                            School Name:
                        </label>
                        <input
                            type="text"
                            id="schoolName"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                            readonly
                            value="Locked School Name"
                        />
                    </div>
                    <div>
                        <label
                            for="schoolId"
                            class="block text-sm font-medium text-gray-900"
                        >
                            School ID:
                        </label>
                        <input
                            type="text"
                            id="schoolId"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                            readonly
                            value="Locked School ID"
                        />
                    </div>
                </div>

                <!-- Enrollment Information and Fee Calculation Section -->
                <h2 class="text-xl font-bold text-gray-800 mb-4">
                    Enrollment Information
                </h2>
                <div class="space-y-4">
                    <div>
                        <label
                            for="fullDayKindergarten"
                            class="block text-sm font-medium text-gray-900"
                        >
                            A. Enrolment in Full-day Kindergarten (as of
                            September 30, 2023):
                        </label>
                        <input
                            type="number"
                            id="fullDayKindergarten"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3"
                            placeholder="Enter number"
                            oninput="calculateFTEAndFee()"
                        />
                    </div>

                    <div>
                        <label
                            for="grades1To12"
                            class="block text-sm font-medium text-gray-900"
                        >
                            B. Enrolment in Grades 1-12 (as of September 30,
                            2023):
                        </label>
                        <input
                            type="number"
                            id="grades1To12"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3"
                            placeholder="Enter number"
                            oninput="calculateFTEAndFee()"
                        />
                    </div>

                    <div>
                        <label
                            for="halfDayKindergarten"
                            class="block text-sm font-medium text-gray-900"
                        >
                            C. Enrolment in Half-day Kindergarten (as of
                            September 30, 2023) (divided by two):
                        </label>
                        <input
                            type="number"
                            id="halfDayKindergarten"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3"
                            placeholder="Enter number"
                            oninput="calculateFTEAndFee()"
                        />
                    </div>

                    <div>
                        <label
                            for="totalFTE"
                            class="block text-sm font-medium text-gray-900"
                        >
                            D. Total F.T.E. Enrolment (A + B + C/2):
                        </label>
                        <input
                            type="text"
                            id="totalFTE"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3"
                            readonly
                            value="0.00"
                        />
                    </div>

                    <div>
                        <label
                            for="membershipFees"
                            class="block text-sm font-medium text-gray-900"
                        >
                            E. Fee ($7.00 per F.T.E.):
                        </label>
                        <input
                            type="text"
                            id="membershipFees"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-3"
                            readonly
                            value="0.00"
                        />
                    </div>
                </div>

                <!-- Form Filled By Section -->
                <h2 class="text-xl font-bold text-gray-800 mb-4">
                    Form Filled By
                </h2>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label
                            for="contactName"
                            class="block text-sm font-medium text-gray-900"
                        >
                            Name:
                        </label>
                        <input
                            type="text"
                            id="contactName"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                            required
                        />
                    </div>
                    <div>
                        <label
                            for="contactPosition"
                            class="block text-sm font-medium text-gray-900"
                        >
                            Position:
                        </label>
                        <input
                            type="text"
                            id="contactPosition"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                            required
                        />
                    </div>
                    <div>
                        <label
                            for="contactEmail"
                            class="block text-sm font-medium text-gray-900"
                        >
                            Email:
                        </label>
                        <input
                            type="email"
                            id="contactEmail"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                            required
                        />
                    </div>
                    <div>
                        <label
                            for="secondaryEmail"
                            class="block text-sm font-medium text-gray-900"
                        >
                            Secondary Email:
                        </label>
                        <input
                            type="email"
                            id="secondaryEmail"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                            required
                        />
                    </div>
                </div>

                <!-- Payment Status Section -->
                <h2 class="text-xl font-bold text-gray-800 mb-4">
                    Payment Status
                </h2>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label
                            for="paymentStatus"
                            class="block text-sm font-medium text-gray-900"
                        >
                            Has the Invoice Been Paid?
                        </label>
                        <select
                            id="paymentStatus"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                        >
                            <option value="pending">Pending</option>
                            <option value="paid">Paid</option>
                        </select>
                    </div>
                </div>

                <!-- Payment Method Section -->
                <h2 class="text-xl font-bold text-gray-800 mb-4">
                    Payment Method
                </h2>
                <div class="grid grid-cols-1">
                    <label
                        for="paymentMethod"
                        class="block text-sm font-medium text-gray-900"
                    >
                        Payment Method:
                    </label>
                    <select
                        id="paymentMethod"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-3"
                    >
                        <option value="">Select Payment Method</option>
                        <option value="shopify">Shopify Payment (Dummy)</option>
                        <option value="cheque">Cheque</option>
                    </select>
                </div>

                <!-- Submit Button -->
                <button
                    type="submit"
                    class="w-full text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-3 mt-4 text-center"
                >
                    Submit
                </button>
            </form>
        </div>

        <!-- Flowbite script -->
        <script
            defer
            src="https://unpkg.com/flowbite@1.4.7/dist/flowbite.min.js"
        ></script>

        <!-- Custom script to calculate FTE and Fees -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                function calculateFTEAndFee() {
                    const fullDayKindergarten =
                        parseInt(
                            (
                                document.getElementById(
                                    "fullDayKindergarten",
                                ) as HTMLInputElement
                            ).value,
                        ) || 0;
                    const grades1To12 =
                        parseInt(
                            (
                                document.getElementById(
                                    "grades1To12",
                                ) as HTMLInputElement
                            ).value,
                        ) || 0;
                    const halfDayKindergarten =
                        parseInt(
                            (
                                document.getElementById(
                                    "halfDayKindergarten",
                                ) as HTMLInputElement
                            ).value,
                        ) || 0;

                    // Calculate total FTE
                    const totalFTE =
                        fullDayKindergarten +
                        grades1To12 +
                        halfDayKindergarten / 2;
                    (
                        document.getElementById("totalFTE") as HTMLInputElement
                    ).value = totalFTE.toFixed(2);

                    // Calculate fee
                    const fee = totalFTE * 7; // $7 per FTE
                    (
                        document.getElementById(
                            "membershipFees",
                        ) as HTMLInputElement
                    ).value = fee.toFixed(2);
                }

                window.calculateFTEAndFee = calculateFTEAndFee;
            });
        </script>
    </body>
</html>
