---
import Layout from "../layouts/Layout.astro";

const user = Astro.locals.user;
---

<Layout title="Payments Notification">
    <!-- Header Section -->
    <header
        class="bg-gradient-to-r from-green-800 to-green-700 text-white py-12 sm:py-16 md:py-20"
    >
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h1
                class="text-4xl sm:text-5xl font-extrabold mb-4 sm:mb-6 drop-shadow-md"
            >
                Payment Notifications
            </h1>
            <p class="text-base sm:text-lg md:text-xl max-w-2xl mx-auto">
                View overdue and upcoming payments for schools.
            </p>
        </div>
    </header>

    <!-- Main Content Section -->
    <main
        class="max-w-7xl mx-auto mt-10 p-8 bg-white dark:bg-gray-800 shadow-md rounded-lg transition-colors duration-300"
    >
        <!-- Overdue Payments Section -->
        <section class="text-center mb-12 sm:mb-16">
            <h2
                class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 text-gray-800 dark:text-gray-100"
            >
                Overdue Payments
            </h2>
            <p
                class="text-sm sm:text-base text-gray-600 dark:text-gray-300 max-w-2xl mx-auto"
            >
                Here's a list of schools with overdue payments.
            </p>
        </section>

        <!-- Overdue Payments Table -->
        <div
            class="overflow-x-auto border border-gray-300 dark:border-gray-700 rounded-lg shadow"
        >
            <table
                class="min-w-full text-sm text-left text-gray-700 dark:text-gray-300"
            >
                <thead class="bg-gray-200 dark:bg-gray-700">
                    <tr>
                        <th
                            class="px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                        >
                            School Name
                        </th>
                        <th
                            class="px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                        >
                            Days Overdue
                        </th>
                        <th
                            class="px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                        >
                            Amount Due
                        </th>
                        <th
                            class="px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                        >
                            Email
                        </th>
                        <th
                            class="px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                        >
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody
                    class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"
                >
                    {
                        [
                            {
                                schoolName: "Green Valley School",
                                overdueDays: 10,
                                amountDue: "$1,500",
                                email: "admin@greenvalleyschool.com",
                            },
                            {
                                schoolName: "Riverside Academy",
                                overdueDays: 15,
                                amountDue: "$2,000",
                                email: "contact@riversideacademy.org",
                            },
                            {
                                schoolName: "Hilltop High",
                                overdueDays: 5,
                                amountDue: "$750",
                                email: "principal@hilltophigh.edu",
                            },
                        ].map((payment) => (
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-100">
                                    {payment.schoolName}
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">
                                    {payment.overdueDays} days overdue
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">
                                    {payment.amountDue}
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">
                                    {payment.email}
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300">
                                    <a
                                        href={`mailto:${payment.email}?subject=Payment%20Overdue%20Reminder&body=Dear%20${encodeURIComponent(payment.schoolName)},%0A%0AI%20hope%20this%20message%20finds%20you%20well.%20We%20are%20writing%20to%20kindly%20remind%20you%20that%20your%20payment%20of%20${encodeURIComponent(payment.amountDue)}%20is%20now%20overdue.%20Please%20arrange%20for%20the%20payment%20at%20your%20earliest%20convenience%20to%20ensure%20continued%20service%20and%20avoid%20any%20potential%20disruptions.%0A%0AShould%20you%20have%20any%20questions%20or%20require%20further%20clarification,%20feel%20free%20to%20contact%20us.%20We%20appreciate%20your%20prompt%20attention%20to%20this%20matter.%0A%0AThank%20you%20for%20your%20cooperation.%0A%0ASincerely,%0A%0AFISA`}
                                        class="text-blue-500 hover:underline"
                                    >
                                        Send Reminder
                                    </a>
                                </td>
                            </tr>
                        ))
                    }
                </tbody>
            </table>
        </div>
    </main>
</Layout>
