---
import Layout from '../layouts/Layout.astro';

const token = Astro.url.searchParams.get('token');
---

<Layout title="Reset Password">
  <h1 class="text-2xl font-bold mb-4">Reset Password</h1>
  {token ? (
    <form action="/api/reset-password" method="POST">
      <input type="hidden" name="token" value={token} />
      <div class="mb-4">
        <label for="password" class="block text-gray-700">New Password:</label>
        <input type="password" name="password" id="password" required class="mt-1 p-2 border w-full" />
      </div>
      <div class="mb-4">
        <label for="confirmPassword" class="block text-gray-700">Confirm New Password:</label>
        <input type="password" name="confirmPassword" id="confirmPassword" required class="mt-1 p-2 border w-full" />
      </div>
      <button type="submit" class="bg-blue-500 text-white px-4 py-2">Update Password</button>
    </form>
  ) : (
    <p>Invalid or expired token. Please request a new password reset.</p>
  )}
</Layout>
